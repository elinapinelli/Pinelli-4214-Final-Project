{% extends "base.html" %}

{% block title %}Add Product{% endblock %}

{% block header %}
<link rel="stylesheet" href="/static/css/register.css">



{% endblock %}

{% block body %}
<div class="form-container">
    {% if product %}
    <form method="POST" action="/updateproduct/{{ product.id }}/" enctype="multipart/form-data">
    {% else %}
    <form method="POST" enctype="multipart/form-data">
    {% endif %}
        {% csrf_token %}
        <!-- if there is a product already everything will be ready to update the product -->
         <!-- otherewise everything will be ready to add a product  -->
        {% if product %}
            <h2 class="form-title">Update Product</h2>
        {% else %}
            <h2 class="form-title">Add Product</h2>
        {% endif %}
        <div class="mb-3">
            <label for="title" class="form-label">Title</label>
            {% if product %}
                <input type="text" class="form-control" id="title" name="title" placeholder="Enter your title" value="{{ product.title }}" required>
            {% else %}
                <input type="text" class="form-control" id="title" name="title" placeholder="Enter your title" required>
            {% endif %}

        </div>
        <div class="mb-3">
            <label for="price" class="form-label">Price</label>
            {% if product %}
            <input type="number" step="0.1" class="form-control" id="price" name="price" placeholder="Enter your price" value="{{ product.price }}" required>
            {% else %}
            <input type="number" step="0.1" class="form-control" id="price" name="price" placeholder="Enter your price" required>
            {% endif %}
        </div>
        <div class="mb-3">
            <label for="description" class="form-label">Description</label>
            {% if product %}
            <input type="text" class="form-control" id="description" name="description" placeholder="Enter your description"  value="{{ product.description }}" required>
            {% else %}
            <input type="text" class="form-control" id="description" name="description" placeholder="Enter your description" required>
            {% endif %}
        </div>
        <div class="mb-3">
            <label for="category" class="form-label">Category</label>
            {% if product %}
            <input type="text" class="form-control" id="category" name="category" placeholder="Enter your category" value="{{ product.category }}" required>
            {% else %}
            <input type="text" class="form-control" id="category" name="category" placeholder="Enter your category" required>
            {% endif %}
        </div>
        <div class="mb-3">
            <label for="sub_category" class="form-label">Sub Category</label>
            {% if product %}
            <input type="text" class="form-control" id="sub_category" name="sub_category" placeholder="Enter your sub category" value="{{ product.sub_category }}" required>
            {% else %}
            <input type="text" class="form-control" id="sub_category" name="sub_category" placeholder="Enter your sub category" required>
            {% endif %}
        </div>
        <div class="input-group mb-3">
            <div class="input-group-text">
                <div>
              <label for="indoors" class="form-label">Indoors</label>
                </div>
              {% if product and product.indoors %}
                
                <input class="form-check-input mt-0" type="checkbox" value="" aria-label="indoors" name="indoors" checked>
                
                
              {% else %}
              <input class="form-check-input mt-0" type="checkbox" value="" aria-label="indoors" name="indoors">
              {% endif %}
            </div>
        </div>
        {% if product %}
        <img src="/{{ product.image }}" alt="{{ product.title }}">
        {% endif %}
        <div class="mb-3">
            <label for="image" class="form-image">Image</label>
            {% if product %}
            <input type="file" class="form-control" id="image" name="image"  accept="image/*">   <!-- to choose only image  -->
            {% else %}
            <input type="file" class="form-control" id="image" name="image" required accept="image/*">   <!-- to choose only image  -->
            {% endif %}
        </div> 
        {% if product %}
        <button type="submit" class="btn btn-primary btn-submit">Update</button>
        {% else %}
        <button type="submit" class="btn btn-primary btn-submit">Sumbit</button>
        {% endif %}
    </form>
</div>

{% endblock %}