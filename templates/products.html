{% extends "base.html" %}

{% block title %}Products{% endblock %}

{% block header %}
<link rel="stylesheet" href="/static/css/products.css">
<script src="/static/js/products.js"></script>
{% endblock %}

{% block body %}
<div class="container">
    <div class="products">
        <h2>Our Products</h2>
        <div id="categories" class="btn-group me-2">
            <button type="button" class="btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" style="background-color: #8e1f2c; border-color: #8e1f2c;">
                Categories
            </button>
            <ul id="categories_ul" class="dropdown-menu">
                
               
            </ul>
        </div>
        <div id="subcategories" class="btn-group me-2">
            <button type="button" class="btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" style="background-color: #8e1f2c; border-color: #8e1f2c;">
                Sub Categories
            </button>
            <ul id="subcategories_ul" class="dropdown-menu">
             
            </ul>
        </div>
        <p>Category:</p><p id="sel_cat">All</p>
        <p>Sub Category:</p><p id="sel_sub_cat">All</p>
        <div id="product-list" class="product-list">
            <!-- Loop through the products in the database -->
            {% for product in products %}
            <div class="product-card">
                <img src="/{{ product.image }}" alt="{{ product.title }}">
                <h3>{{ product.title }}</h3>
                <p>Price: {{ product.price }} â‚¬</p>
                <a href="/product/{{ product.id }}" class="btn btn-primary">View Details</a>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
<script>
    // i have this script here because I want to pass the products in javascript and there is no other way 
    var products_l=JSON.parse('{{ products_str|escapejs }}')
    // the espapejs is for when parsing the data string and it gives errors
    // console.log(products_l)
</script>

{% endblock %}
